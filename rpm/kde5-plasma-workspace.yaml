Name         : kde5-plasma-workspace
Version      : 4.98.0
Release      : 1
Group        : System/Base
License      : GPLv2+
Summary      : Plasma 5 workspace applications and applets
Description  : |
  Plasma 5 libraries and runtime components.
URL          : http://www.kde.org
SetupOptions : -q -n %{name}-%{version}/upstream

Sources:
    - "%{name}-%{version}.tar.xz"
    - kde.pam

Patches:
    - 0001-Load-custom-look-feel-package.patch
    - 0002-Shell-use-look-and-feel-package-from-configuration.patch
    - 0003-KSplash-load-look-and-feel-package-from-configuratio.patch
    - 0004-KRunner-load-look-and-feel-package-from-configuratio.patch
    - 0005-ksmserver-load-look-and-feel-package-from-configurat.patch

RpmLintIgnore:
    - devel-file-in-non-devel-package
    - no-changelogname-tag
    - library-without-ldconfig-postin
    - library-without-ldconfig-postun

Configure    : none
Builder      : none

PkgBR:
    - kf5-rpm-macros
    - kde5-rpm-macros
    - extra-cmake-modules
    - qt5-tools
    # TODO: n/a
    #- dbusmenu-qt5-devel
    #- qimageblitz-devel
    - libGL-devel
    - boost-devel
    # TODO: n/a
    #- libbsd-devel
    - pam-devel
    # TODO: n/a
    #- lm_sensors-devel
    #- libraw1394-devel
    #- gpsd-devel
    - phonon-qt5-devel
    - kf5-umbrella
    - kf5-plasma-devel
    - kf5-kdoctools-devel
    - kf5-krunner-devel
    - kf5-kjsembed-devel
    - kf5-knotifyconfig-devel
    - kf5-kdesu-devel
    - kf5-knewstuff-devel
    - kf5-kwallet-devel
    - kf5-kcmutils-devel
    - kf5-kidletime-devel
    - kf5-threadweaver-devel
    - kf5-kdeclarative-devel
    - kf5-plasma-devel
    - kf5-kdewebkit-devel
    - kf5-kdelibs4support-devel
    - kf5-baloo-devel
    - kf5-ktexteditor-devel
    - kde5-libksysguard-devel
    - libkscreen-devel
    - kde5-kwin-devel
    - chrpath
PkgConfigBR:
    - Qt5Core
    - Qt5DBus
    - Qt5Xml
    - Qt5Network
    - Qt5Gui
    - Qt5Widgets
    - Qt5Concurrent
    - Qt5Test
    - Qt5WebKit
    - Qt5Declarative
    - Qt5Script
    - Qt5X11Extras
    - Qt5Quick
    - Qt5WebKitWidgets
    - Qt5PrintSupport
    - zlib
    - glib-2.0
    - fontconfig
    - python2
    - libusb
    - libpci
    - x11-xcb
    - xau
    - xdmcp
    - xkbfile
    - xcomposite
    - xdamage
    - xrender
    - xfixes
    - xrandr
    - xcursor
    - sm
    # libxcb-devel:
    - xcb
    - xcb-composite
    - xcb-damage
    - xcb-dpms
    - xcb-dri2
    - xcb-glx
    - xcb-randr
    - xcb-record
    - xcb-render
    - xcb-res
    - xcb-screensaver
    - xcb-shape
    - xcb-shm
    - xcb-sync
    - xcb-xevie
    - xcb-xf86dri
    - xcb-xfixes
    - xcb-xinerama
    - xcb-xprint
    - xcb-xtest
    - xcb-xv
    # xcb-utils-devel:
    - xcb-xvmc
    - xcb-atom
    - xcb-aux
    - xcb-event
    - xcb-icccm
    - xcb-image
    - xcb-keysyms
    - xcb-renderutil
Requires:
    - kde5-filesystem
    - kf5-kinit
    - kf5-kded
    - kf5-kdoctools
    - qt5-qtquickcontrols
    - qt5-qttools-paths
    - qt5-qttools-qdbus
    - coreutils
    - dbus-x11
    - xorg-x11-apps
    - xorg-x11-utils
    - xorg-x11-server-utils
    - socat
    - systemd
RequiresPost:
    - /sbin/ldconfig
RequiresPostUn:
    - /sbin/ldconfig

Files:
    - "%dir %{_kde5_datadir}/plasma/plasmoids"
    - "%dir %{_kde5_datadir}/plasma/services"
    - "%dir %{_kde5_datadir}/plasma/shareprovider"
    - "%dir %{_kde5_datadir}/plasma/wallpapers"
    - "%dir %{_kde5_datadir}/plasma/look-and-feel"
    - "%{_kde5_sysconfdir}/profile.d/plasma5.sh"
    - "%{_kde5_bindir}/*"
    - "%{_kde5_libdir}/*.so.*"
    - "%{_kde5_libdir}/libkdeinit5_*.so"
    - "%{_kde5_plugindir}/*"
    - "%{_kde5_libdir}/qml/org/kde/*"
    - "%{_kde5_libexecdir}/*"
    - "%{_kde5_datadir}/ksmserver"
    - "%{_kde5_datadir}/ksplash"
    - "%{_kde5_datadir}/plasma/services"
    - "%{_kde5_datadir}/plasma/shareprovider"
    - "%{_kde5_datadir}/solid"
    - "%{_kde5_datadir}/kstyle"
    - "%{_kde5_datadir}/drkonqi/debuggers/external/*"
    - "%{_kde5_datadir}/drkonqi/debuggers/internal/*"
    - "%{_kde5_datadir}/drkonqi/mappings"
    - "%{_kde5_datadir}/drkonqi/pics/*.png"
    - "%{_kde5_sysconfdir}/xdg/*.knsrc"
    - "%{_kde5_sysconfdir}/xdg/autostart/*.desktop"
    - "%exclude %{_kde5_sysconfdir}/xdg/autostart/plasmashell.desktop"
    - "%{_kde5_sysconfdir}/pam.d/kde"
    - "%{_datadir}/desktop-directories/*.directory"
    - "%{_datadir}/dbus-1/services/*.service"
    - "%{_datadir}/kservices5/*.desktop"
    - "%{_datadir}/kservices5/*.protocol"
    - "%{_datadir}/kservices5/kded/*.desktop"
    - "%{_datadir}/kservicetypes5/*.desktop"
    - "%{_datadir}/knotifications5/*.notifyrc"
    - "%{_datadir}/applications/*.desktop"
    - "%{_datadir}/config.kcfg"

SubPackages:
    - Name: devel
      Group: Development/Libraries
      Summary: Development files for %{name}
      Description: |
        The %{name}-devel package contains the files necessary to develop applications
        that use %{name}.
      Files:
          - "%{_kde5_libdir}/libweather_ion.so"
          - "%{_kde5_libdir}/libtaskmanager.so"
          - "%{_kde5_libdir}/libkworkspace.so"
          - "%{_kde5_libdir}/libplasma-geolocation-interface.so"
          - "%{_kde5_includedir}/*"
          - "%{_libdir}/cmake/KRunnerAppDBusInterface"
          - "%{_libdir}/cmake/KSMServerDBusInterface"
          - "%{_libdir}/cmake/LibKWorkspace"
          - "%{_libdir}/cmake/LibTaskManager"
          - "%{_libdir}/cmake/ScreenSaverDBusInterface"
          - "%{_datadir}/dbus-1/interfaces/*.xml"
    - Name: shell
      Group: System/GUI/Other
      BuildArch: noarch
      Summary: Plasma shell autostart entry
      Description: |
        Autostart entry that brings the Plasma desktop up.
      Files:
          - "%{_kde5_sysconfdir}/xdg/autostart/plasmashell.desktop"
    - Name: lookandfeel
      Group: System/GUI/Other
      BuildArch: noarch
      Summary: Plasma look and feel
      Description: |
        Plasma look and feel.
      Files:
          - "%{_kde5_datadir}/plasma/look-and-feel/*"
    - Name: plasmoids
      Group: System/GUI/Other
      BuildArch: noarch
      Summary: Widgets for Plasma
      Description: |
        Widgets for Plasma.
      Files:
          - "%{_kde5_datadir}/plasma/plasmoids/*"
    - Name: wallpapers
      Group: System/GUI/Other
      BuildArch: noarch
      Summary: Wallpaper plugins for Plasma
      Description: |
        Wallpaper plugins for Plasma.
      Files:
          - "%{_kde5_datadir}/plasma/wallpapers/*"
    - Name: session
      Group: System/GUI/Other
      BuildArch: noarch
      Summary: Plasma session entry
      Description: |
        Plasma session entry for display managers.
      Requires:
          - "%{name}-shell = %{version}-%{release}"
      Files:
          - "%{_datadir}/xsessions/plasma.desktop"
    - Name: doc
      Group: Documentation
      BuildArch: noarch
      Summary: Documentation and user manuals for %{name}
      Description: |
        Documentation and user manuals for %{name}
      Files:
          - "%{_datadir}/doc/HTML/en/*"
    - Name: sddm-theme-breeze
      AsWholeName: True
      BuildArch: noarch
      AutoDepend: False
      Group: System/GUI/Other
      Summary: SDDM "Breeze" theme
      Description: |
        This package contains the "Breeze" theme for SDDM.
      Requires:
          - sddm
          - oxygen-icon-theme
      Files:
          - "%{_datadir}/sddm/themes/breeze"
